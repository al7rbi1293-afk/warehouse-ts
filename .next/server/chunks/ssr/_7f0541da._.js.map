{"version":3,"sources":["../../../../node_modules/next/src/build/webpack/loaders/next-flight-loader/action-client-wrapper.ts","../../../../src/app/%28dashboard%29/settings/SettingsClient.tsx","../../../../src/app/actions/data%3Ae0f576%20%3Ctext/javascript%3E"],"sourcesContent":["// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\nexport { callServer } from 'next/dist/client/app-call-server'\nexport { findSourceMapURL } from 'next/dist/client/app-find-source-map-url'\n\n// A noop wrapper to let the Flight client create the server reference.\n// See also: https://github.com/facebook/react/pull/26632\n// eslint-disable-next-line import/no-extraneous-dependencies\nexport { createServerReference } from 'react-server-dom-webpack/client'\n","\"use client\";\n\nimport { useState } from \"react\";\nimport { updateUserProfile } from \"@/app/actions/auth\";\nimport { toast } from \"sonner\";\nimport { useRouter } from \"next/navigation\";\nimport { User } from \"@/types\";\n\ninterface Props {\n    user: User;\n}\n\nexport function SettingsClient({ user }: Props) {\n    const router = useRouter();\n    const [isLoading, setIsLoading] = useState(false);\n\n    const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n        setIsLoading(true);\n\n        const formData = new FormData(e.currentTarget);\n\n        try {\n            const result = await updateUserProfile(user.username, formData);\n            if (result.success) {\n                toast.success(result.message);\n                router.refresh();\n            } else {\n                toast.error(result.message);\n            }\n        } catch {\n            toast.error(\"Failed to update profile\");\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"max-w-2xl mx-auto space-y-8 animate-fade-in pb-12\">\n            <div>\n                <h1 className=\"text-2xl font-bold text-slate-900\">Account Settings</h1>\n                <p className=\"text-slate-500 text-sm\">Update your profile and personal details</p>\n            </div>\n\n            <div className=\"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden\">\n                <div className=\"p-6 border-b border-slate-100\">\n                    <h2 className=\"font-semibold text-slate-800\">Profile Information</h2>\n                    <p className=\"text-sm text-slate-500 mt-1\">Update your login credentials and display name</p>\n                </div>\n\n                <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                        <div className=\"space-y-2\">\n                            <label className=\"text-sm font-medium text-slate-700\">Full Name</label>\n                            <input\n                                name=\"name\"\n                                type=\"text\"\n                                defaultValue={user.name || \"\"}\n                                required\n                                className=\"w-full px-4 py-2 bg-white border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all\"\n                            />\n                        </div>\n\n                        <div className=\"space-y-2\">\n                            <label className=\"text-sm font-medium text-slate-700\">Username</label>\n                            <input\n                                name=\"username\"\n                                type=\"text\"\n                                defaultValue={user.username}\n                                required\n                                className=\"w-full px-4 py-2 bg-white border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all\"\n                            />\n                        </div>\n                    </div>\n\n                    <div className=\"space-y-2\">\n                        <label className=\"text-sm font-medium text-slate-700\">New Password (Optional)</label>\n                        <input\n                            name=\"password\"\n                            type=\"password\"\n                            placeholder=\"Leave blank to keep current password\"\n                            className=\"w-full px-4 py-2 bg-white border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all\"\n                        />\n                        <p className=\"text-xs text-slate-400\">Min. 6 characters if changing</p>\n                    </div>\n\n                    <div className=\"pt-4 flex justify-end\">\n                        <button\n                            type=\"submit\"\n                            disabled={isLoading}\n                            className=\"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-lg shadow-blue-500/30 transition-all disabled:opacity-70 flex items-center gap-2\"\n                        >\n                            {isLoading ? \"Saving Changes...\" : \"Save Changes\"}\n                        </button>\n                    </div>\n                </form>\n            </div>\n\n            <div className=\"bg-blue-50 rounded-xl p-6 border border-blue-100\">\n                <div className=\"flex gap-4\">\n                    <div className=\"p-3 bg-blue-100 text-blue-600 rounded-full h-fit\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"10\" /><line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\" /><line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\" /></svg>\n                    </div>\n                    <div>\n                        <h3 className=\"font-semibold text-blue-900\">Logged in as {user.username}</h3>\n                        <p className=\"text-sm text-blue-700 mt-1\">\n                            Role: <span className=\"capitalize font-medium\">{user.role}</span>\n                            {user.region && ` • Region: ${user.region}`}\n                            {user.shiftName && ` • Shift: ${user.shiftName}`}\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n","/* __next_internal_action_entry_do_not_use__ [{\"609501e411039257cb35406b60827c2844e7f2ba9d\":\"updateUserProfile\"},\"src/app/actions/auth.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";const $$RSC_SERVER_ACTION_1=/*#__PURE__*/createServerReference(\"609501e411039257cb35406b60827c2844e7f2ba9d\",callServer,void 0,findSourceMapURL,\"updateUserProfile\");export{$$RSC_SERVER_ACTION_1 as updateUserProfile};"],"names":["callServer","createServerReference","findSourceMapURL"],"mappings":"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","ignoreList":[0]}
{"version":3,"sources":["../../../../src/app/%28dashboard%29/settings/SettingsClient.tsx/__nextjs-internal-proxy.mjs","../../../../src/app/%28dashboard%29/settings/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SettingsClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call SettingsClient() from the server but SettingsClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/(dashboard)/settings/SettingsClient.tsx\",\n    \"SettingsClient\",\n);\n","import { getServerSession } from \"next-auth\";\nimport { authOptions } from \"@/lib/auth\";\nimport { redirect } from \"next/navigation\";\nimport { prisma } from \"@/lib/prisma\";\nimport { SettingsClient } from \"./SettingsClient\";\nimport { UserRole } from \"@/types\";\n\nexport default async function SettingsPage() {\n    const session = await getServerSession(authOptions);\n\n    if (!session) {\n        redirect(\"/login\");\n    }\n\n    // Fetch fresh user data\n    const user = await prisma.user.findUnique({\n        where: { username: session.user.username },\n        include: { shift: true }\n    });\n\n    if (!user) {\n        redirect(\"/login\");\n    }\n\n    // Transform to match User type interface\n    const userProps = {\n        ...user,\n        role: user.role as UserRole,\n        shiftName: user.shift?.name || null,\n        createdAt: user.createdAt\n    };\n\n    return <SettingsClient user={userProps} />;\n}\n"],"names":[],"mappings":"8XAEO,IAAM,EAAiB,CAAA,EAAA,AAD9B,EAAA,CAAA,CAAA,OAC8B,uBAAA,AAAuB,EACjD,WAAa,MAAM,AAAI,MAAM,0OAA4O,EACzQ,gFACA,wEAHG,IAAM,EAAiB,CAAA,EAD9B,AAC8B,EAD9B,CAAA,CAAA,OAC8B,uBAAA,AAAuB,EACjD,WAAa,MAAM,AAAI,MAAM,0OAA4O,EACzQ,4DACA,qHCLJ,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAGe,eAAe,IAC1B,IAAM,EAAU,MAAM,CAAA,EAAA,EAAA,gBAAA,AAAgB,EAAC,EAAA,WAAW,CAE9C,CAAC,GACD,CAAA,EAAA,EAAA,CADU,OACV,AAAQ,EAAC,UAIb,IAAM,EAAO,MAAM,EAAA,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CACtC,MAAO,CAAE,SAAU,EAAQ,IAAI,CAAC,QAAQ,AAAC,EACzC,QAAS,CAAE,OAAO,CAAK,CAC3B,EAEI,CAAC,GACD,CAAA,EADO,AACP,EAAA,QAAA,AAAQ,EAAC,UAIb,IAAM,EAAY,CACd,GAAG,CAAI,CACP,KAAM,EAAK,IAAI,CACf,UAAW,EAAK,KAAK,EAAE,MAAQ,KAC/B,UAAW,EAAK,SAAS,AAC7B,EAEA,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,KAAM,GACjC","ignoreList":[0]}
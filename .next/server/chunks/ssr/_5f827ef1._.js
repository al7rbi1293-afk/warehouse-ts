module.exports=[37936,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(11857)},13095,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},90832,a=>{"use strict";var b=a.i(37936),c=a.i(66518),d=a.i(9307),e=a.i(18558);async function f(a){let b=a.get("username"),f=a.get("password"),g=a.get("name"),h=a.getAll("regions");if(!b||!f||!g)return{success:!1,message:"All fields are required"};try{if(await c.prisma.user.findUnique({where:{username:b}}))return{success:!1,message:"Username already exists"};let a=await (0,d.hashPassword)(f);return await c.prisma.user.create({data:{username:b,password:a,name:g,role:"supervisor",region:h.join(",")}}),(0,e.revalidatePath)("/login"),{success:!0,message:"Registration successful"}}catch(a){return console.error("Registration error:",a),{success:!1,message:"Registration failed"}}}async function g(a,b){let e=b.get("username"),f=b.get("name"),g=b.get("password");try{if(e!==a&&await c.prisma.user.findUnique({where:{username:e}}))return{success:!1,message:"Username already taken"};let b={};return e!==a&&(b.username=e),f&&(b.name=f),g&&(b.password=await (0,d.hashPassword)(g)),await c.prisma.user.update({where:{username:a},data:b}),{success:!0,message:"Profile updated successfully"}}catch(a){return console.error("Update error:",a),{success:!1,message:"Update failed"}}}(0,a.i(13095).ensureServerEntryExports)([f,g]),(0,b.registerServerReference)(f,"4085a3e7fe1be03363fc137a46f30a15b85659810c",null),(0,b.registerServerReference)(g,"609501e411039257cb35406b60827c2844e7f2ba9d",null),a.s([],25567),a.i(25567),a.s(["609501e411039257cb35406b60827c2844e7f2ba9d",()=>g],90832)}];

//# sourceMappingURL=_5f827ef1._.js.map
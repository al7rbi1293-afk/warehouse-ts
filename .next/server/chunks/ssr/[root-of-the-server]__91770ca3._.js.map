{"version":3,"sources":["../../../../src/lib/prisma.ts","../../../../src/app/test/page.tsx"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\n\nconst globalForPrisma = global as unknown as { prisma: PrismaClient };\n\nexport const prisma =\n    globalForPrisma.prisma ||\n    new PrismaClient({\n        log: [\"query\"],\n    });\n\nif (process.env.NODE_ENV !== \"production\") globalForPrisma.prisma = prisma;\n","import { prisma } from \"@/lib/prisma\";\n\nexport default async function TestPage() {\n    let data = null;\n    let error = null;\n\n    try {\n        const [inventory, workers, shifts] = await Promise.all([\n            prisma.inventory.findMany({ take: 10, where: { location: \"NSTC\" } }),\n            prisma.worker.findMany({ take: 10 }),\n            prisma.shift.findMany(),\n        ]);\n        data = { inventory, workers, shifts };\n    } catch (e) {\n        error = e instanceof Error ? e.message : String(e);\n    }\n\n    if (error) {\n        return (\n            <div style={{ padding: 20 }}>\n                <h1>‚ùå Error</h1>\n                <pre style={{ background: \"#fee\", padding: 10 }}>{error}</pre>\n            </div>\n        );\n    }\n\n    return (\n        <div style={{ padding: 20, fontFamily: \"sans-serif\" }}>\n            <h1>‚úÖ Database Test Page</h1>\n\n            <h2>üì¶ Inventory ({data?.inventory?.length || 0} items)</h2>\n            <table style={{ borderCollapse: \"collapse\", width: \"100%\" }}>\n                <thead>\n                    <tr style={{ background: \"#eee\" }}>\n                        <th style={{ border: \"1px solid #ccc\", padding: 8 }}>ID</th>\n                        <th style={{ border: \"1px solid #ccc\", padding: 8 }}>Name</th>\n                        <th style={{ border: \"1px solid #ccc\", padding: 8 }}>Qty</th>\n                        <th style={{ border: \"1px solid #ccc\", padding: 8 }}>Location</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {data?.inventory?.map((item) => (\n                        <tr key={item.id}>\n                            <td style={{ border: \"1px solid #ccc\", padding: 8 }}>{item.id}</td>\n                            <td style={{ border: \"1px solid #ccc\", padding: 8 }}>{item.nameEn}</td>\n                            <td style={{ border: \"1px solid #ccc\", padding: 8 }}>{item.qty}</td>\n                            <td style={{ border: \"1px solid #ccc\", padding: 8 }}>{item.location}</td>\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n\n            <h2>üë∑ Workers ({data?.workers?.length || 0} workers)</h2>\n            <table style={{ borderCollapse: \"collapse\", width: \"100%\" }}>\n                <thead>\n                    <tr style={{ background: \"#eee\" }}>\n                        <th style={{ border: \"1px solid #ccc\", padding: 8 }}>ID</th>\n                        <th style={{ border: \"1px solid #ccc\", padding: 8 }}>Name</th>\n                        <th style={{ border: \"1px solid #ccc\", padding: 8 }}>Region</th>\n                        <th style={{ border: \"1px solid #ccc\", padding: 8 }}>Status</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {data?.workers?.map((w) => (\n                        <tr key={w.id}>\n                            <td style={{ border: \"1px solid #ccc\", padding: 8 }}>{w.id}</td>\n                            <td style={{ border: \"1px solid #ccc\", padding: 8 }}>{w.name}</td>\n                            <td style={{ border: \"1px solid #ccc\", padding: 8 }}>{w.region}</td>\n                            <td style={{ border: \"1px solid #ccc\", padding: 8 }}>{w.status}</td>\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n\n            <h2>‚è∞ Shifts ({data?.shifts?.length || 0} shifts)</h2>\n            <ul>\n                {data?.shifts?.map((s) => (\n                    <li key={s.id}>{s.name} ({s.startTime} - {s.endTime})</li>\n                ))}\n            </ul>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}
{"version":3,"sources":["../../../../src/app/debug-db/page.tsx"],"sourcesContent":["\nimport { getProjects, getWarehouses, getRegions } from \"@/app/actions/references\";\n\nexport default async function DebugDbPage() {\n    const projects = await getProjects();\n    const warehouses = await getWarehouses();\n    const regions = await getRegions();\n\n    // Safety: Mask the password in the connection string\n    const dbUrl = process.env.DATABASE_URL || \"NOT_SET\";\n    const maskedUrl = dbUrl.replace(/:[^:@]+@/, \":****@\");\n\n    return (\n        <div className=\"p-10 font-mono text-sm space-y-8 bg-white min-h-screen text-slate-800\">\n            <h1 className=\"text-2xl font-bold border-b pb-4\">Database Debugger</h1>\n\n            <div className=\"bg-blue-50 p-4 rounded border border-blue-200\">\n                <h3 className=\"font-bold mb-2\">Environment Check</h3>\n                <p><strong>Database URL:</strong> {maskedUrl}</p>\n                <p className=\"text-xs text-slate-500 mt-1\">\n                    (Check if this looks like the Direct Connection &apos;db.cofqikmt...&apos; or the old one)\n                </p>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                <section className=\"border p-4 rounded\">\n                    <h2 className=\"text-lg font-bold mb-2 text-blue-600\">Projects ({projects.data?.length || 0})</h2>\n                    <div className=\"bg-slate-50 p-2 rounded h-40 overflow-auto text-xs\">\n                        <pre>{JSON.stringify(projects, null, 2)}</pre>\n                    </div>\n                </section>\n\n                <section className=\"border p-4 rounded\">\n                    <h2 className=\"text-lg font-bold mb-2 text-green-600\">Warehouses ({warehouses.data?.length || 0})</h2>\n                    <div className=\"bg-slate-50 p-2 rounded h-40 overflow-auto text-xs\">\n                        <pre>{JSON.stringify(warehouses, null, 2)}</pre>\n                    </div>\n                </section>\n\n                <section className=\"border p-4 rounded\">\n                    <h2 className=\"text-lg font-bold mb-2 text-purple-600\">Regions ({regions.data?.length || 0})</h2>\n                    <div className=\"bg-slate-50 p-2 rounded h-40 overflow-auto text-xs\">\n                        <pre>{JSON.stringify(regions, null, 2)}</pre>\n                    </div>\n                </section>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"qVACA,EAAA,EAAA,CAAA,CAAA,OAEe,eAAe,IAC1B,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,WAAA,AAAW,IAC5B,EAAa,MAAM,CAAA,EAAA,EAAA,aAAA,AAAa,IAChC,EAAU,MAAM,CAAA,EAAA,EAAA,UAAA,AAAU,IAI1B,EAAY,CADJ,QAAQ,GAAG,CAAC,YAAY,EAAI,SAAA,EAClB,OAAO,CAAC,WAAY,UAE5C,MACI,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kFACX,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4CAAmC,sBAEjD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0DACX,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,0BAAiB,sBAC/B,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,WAAE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,UAAO,kBAAsB,IAAE,KACnC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uCAA8B,wFAK/C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACX,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CAAQ,UAAU,+BACf,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,iDAAuC,aAAW,EAAS,IAAI,EAAE,QAAU,EAAE,OAC3F,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8DACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UAAK,KAAK,SAAS,CAAC,EAAU,KAAM,UAI7C,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CAAQ,UAAU,+BACf,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,kDAAwC,eAAa,EAAW,IAAI,EAAE,QAAU,EAAE,OAChG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8DACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UAAK,KAAK,SAAS,CAAC,EAAY,KAAM,UAI/C,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CAAQ,UAAU,+BACf,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,mDAAyC,YAAU,EAAQ,IAAI,EAAE,QAAU,EAAE,OAC3F,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8DACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UAAK,KAAK,SAAS,CAAC,EAAS,KAAM,eAM5D"}
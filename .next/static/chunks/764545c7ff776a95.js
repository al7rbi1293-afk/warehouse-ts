(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95187,(e,s,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t={callServer:function(){return l.callServer},createServerReference:function(){return i.createServerReference},findSourceMapURL:function(){return n.findSourceMapURL}};for(var a in t)Object.defineProperty(r,a,{enumerable:!0,get:t[a]});let l=e.r(32120),n=e.r(92245),i=e.r(35326)},45408,e=>{"use strict";var s=e.i(43476),r=e.i(71645),t=e.i(95187);let a=(0,t.createServerReference)("609501e411039257cb35406b60827c2844e7f2ba9d",t.callServer,void 0,t.findSourceMapURL,"updateUserProfile");var l=e.i(46696),n=e.i(18566);function i({user:e}){let t=(0,n.useRouter)(),[i,o]=(0,r.useState)(!1),d=async s=>{s.preventDefault(),o(!0);let r=new FormData(s.currentTarget);try{let s=await a(e.username,r);s.success?(l.toast.success(s.message),t.refresh()):l.toast.error(s.message)}catch{l.toast.error("Failed to update profile")}finally{o(!1)}};return(0,s.jsxs)("div",{className:"max-w-2xl mx-auto space-y-8 animate-fade-in pb-12",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Account Settings"}),(0,s.jsx)("p",{className:"text-slate-500 text-sm",children:"Update your profile and personal details"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-slate-100",children:[(0,s.jsx)("h2",{className:"font-semibold text-slate-800",children:"Profile Information"}),(0,s.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Update your login credentials and display name"})]}),(0,s.jsxs)("form",{onSubmit:d,className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Full Name"}),(0,s.jsx)("input",{name:"name",type:"text",defaultValue:e.name||"",required:!0,className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Username"}),(0,s.jsx)("input",{name:"username",type:"text",defaultValue:e.username,required:!0,className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"New Password (Optional)"}),(0,s.jsx)("input",{name:"password",type:"password",placeholder:"Leave blank to keep current password",className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all"}),(0,s.jsx)("p",{className:"text-xs text-slate-400",children:"Min. 6 characters if changing"})]}),(0,s.jsx)("div",{className:"pt-4 flex justify-end",children:(0,s.jsx)("button",{type:"submit",disabled:i,className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-lg shadow-blue-500/30 transition-all disabled:opacity-70 flex items-center gap-2",children:i?"Saving Changes...":"Save Changes"})})]})]}),(0,s.jsx)("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-100",children:(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-full h-fit",children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,s.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),(0,s.jsx)("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"font-semibold text-blue-900",children:["Logged in as ",e.username]}),(0,s.jsxs)("p",{className:"text-sm text-blue-700 mt-1",children:["Role: ",(0,s.jsx)("span",{className:"capitalize font-medium",children:e.role}),e.region&&` • Region: ${e.region}`,e.shiftName&&` • Shift: ${e.shiftName}`]})]})]})})]})}e.s(["SettingsClient",()=>i],45408)}]);